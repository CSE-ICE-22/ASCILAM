{
    "name": "foxy-desktop",
    "dockerFile": "Dockerfile",
    "runArgs": [
        "--privileged",
        "--network=host",
        "--device=/dev/ttyUSB0"  // To support LD19 serial access
    ],
    "workspaceMount": "source=${localWorkspaceFolder},target=/${localWorkspaceFolderBasename},type=bind",
    "workspaceFolder": "/${localWorkspaceFolderBasename}",
    "mounts": [
        "source=${localEnv:HOME}${localEnv:USERPROFILE}/.bash_history,target=/home/ubuntu/.bash_history,type=bind"
    ],
    "features": {
        "ghcr.io/devcontainers/features/desktop-lite": {
            "password": "vscode",
            "webPort": "6080",
            "vncPort": "5901"
        }
    },
    "forwardPorts": [6080, 5901],
    "portsAttributes": {
        "6080": {
            "label": "Desktop (Web)"
        },
        "5901": {
            "label": "Desktop (VNC)"
        }
    },
    "customizations": {
        "vscode": {
            "extensions": [
                "ms-vscode.cpptools",
                "ms-vscode.cpptools-extension-pack",
                "ms-vscode.cmake-tools",
                "twxs.cmake",
                "ms-python.python",
                "ms-python.debugpy",
                "ms-iot.vscode-ros",
                "ms-vscode.xml",
                "redhat.vscode-yaml",
                "ms-vscode.cpptools-themes",
                "streetsidesoftware.code-spell-checker"
            ],
            "settings": {
                "terminal.integrated.defaultProfile.linux": "bash",
                "python.defaultInterpreterPath": "/usr/bin/python3",
                "ros.distro": "foxy",
                "C_Cpp.default.intelliSenseMode": "linux-gcc-x64",
                "C_Cpp.default.compilerPath": "/usr/bin/gcc",
                "files.associations": {
                    "*.launch": "xml",
                    "*.xacro": "xml",
                    "*.urdf": "xml",
                    "*.sdf": "xml"
                }
            }
        }
    },
    "remoteUser": "ubuntu"
}
